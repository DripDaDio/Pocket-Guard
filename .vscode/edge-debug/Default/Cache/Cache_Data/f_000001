* {
  box-sizing: border-box;
}

html, body {
  margin: 0;
  padding: 0;
  font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  color: #333333;
  background: #F8F8F8;
}
/* Brand accents (greens + legacy coral) */
:root { --brand-coral: rgba(251,136,116,1); --brand-coral-dark: rgba(210,96,78,1); --brand-peach: rgba(255,224,191,1); --brand-peach-dark: rgba(214,187,156,1); }
html[data-theme="dark"]:root { --brand-coral: rgba(251,136,116,1); --brand-coral-dark: rgba(200,85,68,1); --brand-peach: rgba(255,224,191,0.86); --brand-peach-dark: rgba(183,149,121,1); }

/* Smooth anchor scrolling */
html { scroll-behavior: smooth; }

a {
  color: rgb(230, 109, 87);
  text-decoration: none;
}

.container {
  max-width: 960px;
  margin: 0 auto;
  padding: 16px;
}

.pg-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 16px;
  background: #FFFFFF;
  border-bottom: 1px solid #E0E0E0;
  position: sticky;
  top: 0;
  z-index: 10;
  backdrop-filter: saturate(1.2) blur(6px);
}

.pg-header .logo {
  font-weight: 700;
  color: #2C5F2D;
}
.pg-header .logo .logo-img{width:28px;height:28px;object-fit:contain;border-radius:4px;border:2px solid rgba(44,95,45,.15);background:transparent}
html[data-theme="dark"] .pg-header .logo .logo-img{border-color:rgba(255,255,255,.12)}
/* Fallback badge if logo image fails */
.pg-header .logo .logo-fallback{display:none; width:28px; height:28px; border-radius:6px; align-items:center; justify-content:center; font-weight:800; font-size:12px; background: color-mix(in oklab, var(--brand-peach) 45%, white); color: var(--brand-coral-dark); border: 2px solid color-mix(in oklab, var(--brand-coral) 35%, rgba(44,95,45,.15));}
.pg-header .logo.no-logo .logo-fallback{display:inline-flex}
/* Keep brand text visible even on small screens for clarity */
@media (max-width: 420px){
  .pg-header .logo .logo-text{display:inline}
}

.btn {
  display: inline-block;
  padding: 10px 16px;
  border-radius: 14px;
  background: #eaeaea;
  border: 1px solid transparent;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.04);
}

.btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
}

.btn:active {
  transform: translateY(0);
  filter: brightness(0.98);
}

.btn:focus {
  outline: 3px solid rgba(230, 109, 87, 0.2);
}

.btn-primary {
  background: rgb(230, 109, 87);
  color: white;
}

.btn-primary:hover {
  filter: brightness(1.05);
}

.btn-ghost {
  background: transparent;
  color: rgb(230, 109, 87);
  border: 1px solid rgb(230, 109, 87);
}

.btn-ghost:hover {
  background: rgba(230, 109, 87, 0.06);
}

.card {
  background: #FFFFFF;
  border-radius: 14px;
  padding: 16px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
  margin: 12px 0;
  border: 1px solid #E0E0E0;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.card:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 28px rgba(0, 0, 0, 0.12);
}

/* Hero background and layout enhancements for welcome page */
.welcome .hero { position: relative; overflow: hidden; border-radius: 0; padding: 96px 24px 84px; min-height: 100svh; display:flex; align-items:center; justify-content:center; text-align:center; width: 100vw; margin-left: calc(50% - 50vw); margin-right: calc(50% - 50vw); }
.welcome .hero .bg { position: absolute; inset: 0; background:
  radial-gradient(1200px 400px at 10% -10%, color-mix(in oklab, var(--brand-coral) 22%, transparent), transparent 52%),
  radial-gradient(1000px 380px at 100% -20%, color-mix(in oklab, var(--brand-peach) 20%, transparent), transparent 60%),
  linear-gradient(180deg, rgba(255,255,255,0.85), rgba(255,255,255,0.98));
  filter: saturate(1.05);
  animation: heroGlow 12s ease-in-out infinite alternate;
}
/* Bridge ribbon: hero -> overview */
.welcome .hero::after { content:""; position:absolute; left:50%; transform:translateX(-50%); bottom:-24px; width: 80%; height: 42px; border-radius: 999px; background: linear-gradient(90deg, var(--brand-peach), var(--brand-coral)); opacity:.0; filter: blur(18px) saturate(1.05); transition: width .8s ease, opacity .8s ease, transform .8s ease; pointer-events:none; }
.bridge-active .hero::after { opacity:.9; transform: translateX(-50%) translateY(8px) scaleX(1.02); width: 92%; }
html[data-theme="dark"] .welcome .hero::after { opacity:.0; background: linear-gradient(90deg, var(--brand-peach-dark), var(--brand-coral-dark)); filter: blur(16px) brightness(.95); }
html[data-theme="dark"] .bridge-active .hero::after { opacity:.75; }
/* Subtle grid overlay */
.welcome .hero .bg::after { content:""; position:absolute; inset:0; background-image:
  linear-gradient(rgba(0,0,0,.03) 1px, transparent 1px),
  linear-gradient(90deg, rgba(0,0,0,.03) 1px, transparent 1px);
  background-size: 24px 24px, 24px 24px;
  mask-image: radial-gradient(ellipse at center, rgba(0,0,0,.5), transparent 70%);
  pointer-events:none; }
html[data-theme="dark"] .welcome .hero .bg { background:
  radial-gradient(1200px 400px at 10% -10%, color-mix(in oklab, var(--brand-coral-dark) 22%, transparent), transparent 52%),
  radial-gradient(1000px 380px at 100% -20%, color-mix(in oklab, var(--brand-peach-dark) 16%, transparent), transparent 60%),
  linear-gradient(180deg, rgba(20,20,20,0.65), rgba(24,24,24,0.85));
  animation: heroGlowDark 12s ease-in-out infinite alternate; }
.welcome .hero .bg .shape { position:absolute; opacity: .22; transform-origin:center; animation: drift 80s ease-in-out infinite; }
.welcome .hero .bg .shape.circle { border-radius:50%; background: var(--brand-coral); }
.welcome .hero .bg .shape.triangle { width: 0; height: 0; border-left: 18px solid transparent; border-right: 18px solid transparent; border-bottom: 30px solid color-mix(in oklab, var(--brand-peach-dark) 80%, transparent); opacity:.22; }
.welcome .hero .bg .shape.s1 { width: 22px; height: 22px; left: 8%; top: 18%; animation-delay: -10s; }
.welcome .hero .bg .shape.s2 { width: 16px; height: 16px; right: 14%; top: 12%; animation-delay: -30s; }
.welcome .hero .bg .shape.s3 { left: 22%; bottom: 16%; animation-delay: -45s; }
.welcome .hero .bg .shape.s4 { width: 26px; height: 26px; left: 42%; top: 10%; animation-delay: -20s; }
.welcome .hero .bg .shape.s5 { right: 18%; bottom: 12%; animation-delay: -60s; }
.welcome .hero .bg .shape.s6 { width: 18px; height: 18px; left: 70%; top: 26%; animation-delay: -15s; }
@keyframes drift { 0% { transform: translateY(0) scale(1); opacity:.18 } 50% { transform: translateY(12px) scale(1.06); opacity:.26 } 100% { transform: translateY(0) scale(1); opacity:.18 } }
.welcome .hero .hero-content { position: relative; z-index: 1; text-align: center; }
.welcome .hero .eyebrow { color: #4CAF50; font-weight: 600; letter-spacing: .08em; text-transform: uppercase; font-size: 12px; }
.welcome .hero .hero-title { margin: 12px 0 16px; font-size: clamp(36px, 6.5vw, 64px); line-height: 1.06; color: #333333; }
.welcome .hero .hero-sub { max-width: 760px; margin: 6px auto 0; color: #555; font-size: clamp(16px, 2.6vw, 18px); }
.welcome .hero .hero-ctas { margin-top: 18px; display: inline-flex; gap: 10px; }
.welcome .hero .scroll-cue { margin-top: 26px; border: none; background: rgba(76,175,80,0.10); color: #2C5F2D; border-radius: 999px; width: 48px; height: 48px; display: inline-flex; align-items: center; justify-content: center; box-shadow: 0 8px 24px rgba(0,0,0,.12); animation: bounce 2.8s ease-in-out infinite; }
.welcome .hero .scroll-cue:hover { background: rgba(76,175,80,0.16); }

@keyframes heroGlow { from { filter: saturate(1.05) hue-rotate(0deg); } to { filter: saturate(1.15) hue-rotate(10deg); } }
@keyframes heroGlowDark { from { filter: saturate(1.05) brightness(0.9) hue-rotate(0deg); } to { filter: saturate(1.15) brightness(0.95) hue-rotate(12deg); } }
@keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(6px); } }

/* In-page subnav */
.subnav { display: flex; gap: 10px; justify-content: center; position: sticky; top: 64px; z-index: 6; margin: 14px 0; padding: 6px; border-radius: 999px; background: rgba(255,255,255,.8); backdrop-filter: saturate(1.3) blur(10px); border: 1px solid #E0E0E0; }
.subnav a { padding: 8px 14px; border-radius: 999px; border: 1px solid transparent; color: inherit; }
.subnav a:hover { background: rgba(76,175,80,.08); color: #2C5F2D; }
html[data-theme="dark"] .subnav { background: rgba(23,25,31,.75); border-color: rgba(255,255,255,.08); }
html[data-theme="dark"] .subnav a { color: #ddd; }

/* Section styling */
.section { padding: 20px; scroll-margin-top: 84px; }
.section .prose { color: #4d4d4d; line-height: 1.6; }
html[data-theme="dark"] .section .prose { color: #ddd; }
.section h2 { margin-top: 4px; letter-spacing: .2px; font-size: clamp(20px, 3.6vw, 28px); }

/* PDF embed styling */
.pdf-embed { border: 1px solid #E0E0E0; border-radius: 12px; overflow: hidden; background: #fff; box-shadow: 0 8px 24px rgba(0,0,0,.06); }
html[data-theme="dark"] .pdf-embed { background: #1c1f27; border-color: rgba(255,255,255,.1); }

/* Welcome: rich content components */
.welcome .callout { border: 1px solid #E0E0E0; border-radius: 14px; padding: 14px; background: color-mix(in oklab, var(--brand-peach) 24%, white); box-shadow: 0 8px 24px rgba(0,0,0,.06); }
.welcome .callout.brand { border-color: color-mix(in oklab, var(--brand-coral) 40%, #E0E0E0); background: color-mix(in oklab, var(--brand-peach) 38%, white); }
.welcome .callout-title { display:flex; align-items:center; gap:8px; font-weight: 700; margin-bottom: 6px; color: var(--brand-coral-dark); }
.welcome .callout .material-icons-round { font-size: 20px; }

.welcome .chip-row { display:flex; flex-wrap:wrap; gap:8px; margin-top: 10px; }
.welcome .chip { display:inline-flex; align-items:center; gap:6px; padding:8px 10px; border-radius:999px; border:1px solid color-mix(in oklab, var(--brand-coral) 38%, #E0E0E0); background: color-mix(in oklab, var(--brand-peach) 22%, white); color:#444; font-weight:600; font-size: 13px; }
.welcome .chip .material-icons-round { font-size:18px; color: var(--brand-coral-dark); }
html[data-theme="dark"] .welcome .chip { color:#eaeaea; border-color: rgba(255,255,255,.14); background: color-mix(in oklab, var(--brand-peach-dark) 14%, #151821); }

.welcome .split-cards { display:grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 12px; margin: 12px 0; }
.welcome .card.soft { border:1px solid #E0E0E0; border-radius:12px; padding:12px; background:#fff; box-shadow: 0 8px 24px rgba(0,0,0,.06); }
.welcome .card.soft .eyebrow { text-transform: uppercase; letter-spacing:.5px; font-size:12px; color: var(--brand-coral-dark); margin-bottom:6px; }
html[data-theme="dark"] .welcome .card.soft { background:#1c1f27; border-color: rgba(255,255,255,.1); }

.welcome .timeline { position: relative; margin: 16px 0; padding-left: 14px; }
.welcome .timeline::before { content:""; position:absolute; left:6px; top:0; bottom:0; width:2px; background: color-mix(in oklab, var(--brand-coral) 50%, #E0E0E0); opacity:.7; }
.welcome .timeline .step { position: relative; padding: 6px 0 6px 12px; display:flex; gap:10px; align-items:flex-start; }
.welcome .timeline .step .dot { position:absolute; left:-1px; width: 10px; height:10px; border-radius:50%; background: var(--brand-coral-dark); box-shadow: 0 0 0 4px color-mix(in oklab, var(--brand-peach) 40%, transparent); }
.welcome .timeline .content { background: color-mix(in oklab, var(--brand-peach) 22%, white); border:1px solid color-mix(in oklab, var(--brand-coral) 32%, #E0E0E0); border-radius: 10px; padding: 10px; }
html[data-theme="dark"] .welcome .timeline::before { background: color-mix(in oklab, var(--brand-peach-dark) 40%, #232734); }
html[data-theme="dark"] .welcome .timeline .content { background: color-mix(in oklab, var(--brand-peach-dark) 12%, #151821); border-color: rgba(255,255,255,.12); }

.welcome .accordion { margin-top: 10px; border-radius: 12px; border: 1px solid #E0E0E0; overflow: hidden; }
.welcome .acc-item + .acc-item { border-top: 1px solid #E0E0E0; }
.welcome .acc-btn { width: 100%; text-align: left; display:flex; align-items:center; justify-content: space-between; gap:10px; padding: 12px; background: color-mix(in oklab, var(--brand-peach) 18%, white); color:#333; border:0; font-weight:700; }
.welcome .acc-btn .chevron { transition: transform .2s ease; }
.welcome .acc-btn[aria-expanded="true"] .chevron { transform: rotate(180deg); }
.welcome .acc-panel { height: 0; overflow: hidden; transition: height .22s ease; background: #fff; }
.welcome .acc-panel > * { padding: 0 12px 12px; }
html[data-theme="dark"] .welcome .accordion { border-color: rgba(255,255,255,.12); }
html[data-theme="dark"] .welcome .acc-item + .acc-item { border-color: rgba(255,255,255,.08); }
html[data-theme="dark"] .welcome .acc-btn { color:#eaeaea; background: color-mix(in oklab, var(--brand-peach-dark) 12%, #151821); }
html[data-theme="dark"] .welcome .acc-panel { background: #1c1f27; }

/* Team cards */
.team { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 12px; }
.team .member { display: flex; gap: 12px; align-items: center; padding: 12px; border: 1px dashed rgba(76,175,80,0.25); border-radius: 12px; }
.team .avatar { width: 40px; height: 40px; border-radius: 10px; background: rgba(76,175,80,0.12); color: #2C5F2D; display:flex; align-items:center; justify-content:center; font-weight: 700; }
html[data-theme="dark"] .team .member { border-color: rgba(255,255,255,0.14); }

.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 12px;
}
/* Feature tiles */
.tile.card { display:flex; flex-direction:column; align-items:center; text-align:center; gap:8px; transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease; }
.tile .icon { background: rgba(76,175,80,.12); color:#2C5F2D; width:48px; height:48px; border-radius:14px; display:flex; align-items:center; justify-content:center; }
.tile .icon .material-icons-round { font-size:26px; }
.tile.card:hover { transform: translateY(-3px); box-shadow: 0 14px 30px rgba(0,0,0,.12); border-color: rgba(76,175,80,.25); }
@media (max-width: 420px) { .tile .icon { width:44px; height:44px } }

.alert {
  padding: 12px;
  border-radius: 14px;
}

.alert-error {
  background: #ffebee;
  color: #E53935;
}

.muted {
  color: #777;
}

.pg-bottom-nav {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: #FFFFFF;
  border-top: 1px solid #E0E0E0;
  display: flex;
  justify-content: space-around;
  padding: 8px 0;
  box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.04);
}

.pg-bottom-nav .nav-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  font-size: 12px;
  color: #666666;
  padding: 6px 10px;
  border-radius: 10px;
  transition: color 0.2s ease, transform 0.2s ease, background 0.2s ease;
}

.pg-bottom-nav .nav-item .material-icons-round {
  font-size: 22px;
  margin-bottom: 2px;
}

.pg-bottom-nav .nav-item:hover {
  background: rgba(230, 109, 87, 0.06);
  transform: translateY(-1px);
}

.pg-bottom-nav .nav-item.active {
  color: rgb(230, 109, 87);
}

.pg-bottom-nav .nav-item.active .material-icons-round {
  animation: pop 0.25s ease;
}

@keyframes pop {
  0% {
    transform: translateY(2px) scale(0.98);
  }
  100% {
    transform: translateY(0) scale(1);
  }
}
.pg-footer {
  text-align: center;
  padding: 24px;
  color: #777;
}

/* Hide footer on auth pages to keep full-height look */
.auth ~ .pg-footer { display: none; }

/* Pages */
.welcome .hero {
  text-align: center;
  padding: 40px 0;
}

.welcome .hero {
  position: relative;
  border-radius: 16px;
  overflow: hidden;
  background: linear-gradient(135deg, rgba(230, 109, 87, 0.1), rgba(255, 224, 191, 0.18));
  padding: 56px 24px;
  margin-top: 12px;
}

.welcome .hero:before {
  content: "";
  position: absolute;
  inset: -40% -20% auto auto;
  background: radial-gradient(600px 600px at 100% 0, rgba(255, 224, 191, 0.35), transparent 60%);
}

.welcome .hero .hero-content {
  position: relative;
  z-index: 1;
}

.welcome .hero .btn-cta {
  transform: translateZ(0);
  transition: transform 0.15s ease, box-shadow 0.2s ease;
}

.welcome .hero .btn-cta:hover {
  transform: translateY(-1px);
}

.welcome .hero .btn-cta:active {
  transform: translateY(0);
}

.welcome .benefits {
  list-style: none;
  padding: 0;
  display: flex;
  justify-content: center;
  gap: 12px;
}

.welcome .features.grid {
  margin-top: 16px;
}

.welcome .features .tile {
  background: #FFFFFF;
  border: 1px solid #E0E0E0;
  border-radius: 14px;
  padding: 14px;
  display: flex;
  align-items: center;
  gap: 12px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
}

.welcome .features .tile .icon {
  background: rgba(230, 109, 87, 0.08);
  color: rgb(230, 109, 87);
  width: 40px;
  height: 40px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.welcome .trust-bar {
  display: flex;
  align-items: center;
  gap: 8px;
  justify-content: center;
  color: #777;
  margin: 14px 0 18px;
}
.welcome .trust-bar .material-icons-round { font-size:18px; color:#2C5F2D; background: rgba(76,175,80,.10); border-radius:8px; width:24px; height:24px; display:inline-grid; place-items:center; }
.welcome .trust-bar .sep { opacity:.6 }

/* Anchor scroll wipe overlay (uses both brand colors) */
.scroll-wipe { position: fixed; inset: 0; z-index: 999; background: linear-gradient(135deg, var(--brand-peach), var(--brand-coral) 42%, var(--brand-coral-dark) 85%); transform: scaleY(0); transform-origin: top; opacity: 0; transition: transform .5s ease, opacity .5s ease; pointer-events: none; }
.scroll-wipe.in { transform: scaleY(1); opacity: .16; }
html[data-theme="dark"] .scroll-wipe { opacity: 0; filter: brightness(.8) saturate(1.1); }
html[data-theme="dark"] .scroll-wipe.in { opacity: .22; }

.welcome .cta-strip {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin: 12px 0;
}

.auth form.card {
  display: flex;
  flex-direction: column;
  gap: 8px;
  max-width: 420px;
}

.auth label {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.auth input {
  padding: 10px;
  border-radius: 8px;
  border: 1px solid #ddd;
  color: #111;
  background: #fff;
}

.alt-auth {
  display: flex;
  gap: 8px;
  margin-top: 8px;
}

/* ===== Auth (Login/Register) ===== */
.auth { display:flex; flex-direction: column; justify-content: center; min-height: 100svh; padding-top: 26px; padding-bottom: 32px; }
/* If header is present, ensure content still centers within viewport */
.pg-header + .auth { min-height: calc(100svh - 64px); }
.auth-header { text-align:center; margin-bottom: 16px; }
.auth-title { margin: 8px 0 4px; font-size: clamp(22px, 4vw, 32px); }
.auth-sub { margin: 0 auto; max-width: 620px; }

.auth-grid { display:grid; grid-template-columns: 1fr; gap: 18px; align-items: start; }
@media (min-width: 840px) { .auth-grid { grid-template-columns: 1fr 1fr; gap: 20px; } }

.auth-card, .auth-side { border: 1px solid #E0E0E0; border-radius: 16px; padding: 16px; background: #fff; box-shadow: 0 10px 28px rgba(0,0,0,.08); }
html[data-theme="dark"] .auth-card, html[data-theme="dark"] .auth-side { background:#1c1f27; border-color: rgba(255,255,255,.1); }

.auth-card .toggle-line, .auth-card .auth-switch { display:flex; align-items:center; justify-content: space-between; gap:10px; }
.auth-card .toggle-line { flex-wrap: nowrap; }
.auth-card .auth-switch { justify-content: center; gap:8px; margin-top: 10px; }
.auth-card .toggle-line { margin: 8px 0; }
.auth-card .btn-primary { margin-top: 10px; }
.auth-card .check { display:inline-flex; align-items:center; gap:8px; }

/* Checkbox alignment and appearance */
.auth-card .check { display:inline-flex; align-items:center; gap:8px; margin: 0; line-height: 1.2; white-space: nowrap; cursor: pointer; position: relative; }
/* Visually hidden native checkbox but still interactive */
.auth-card .check input[type="checkbox"] { position: absolute; left: 0; top: 50%; transform: translateY(-50%); width: 18px; height: 18px; margin: 0; opacity: 0; cursor: pointer; }
/* Draw custom box via the text span */
.auth-card .check span { position: relative; padding-left: 26px; }
.auth-card .check span::before { content: ""; position: absolute; left: 0; top: 50%; transform: translateY(-50%); width: 18px; height: 18px; border-radius: 4px; border: 1.5px solid var(--brand-coral-dark); background:#fff; box-sizing: border-box; }
.auth-card .check span::after { content: ""; position: absolute; left: 5px; top: 50%; transform: translateY(-58%) rotate(45deg); width: 5px; height: 10px; border-right: 2px solid #fff; border-bottom: 2px solid #fff; opacity: 0; }
.auth-card .check input[type="checkbox"]:checked + span::before { background: var(--brand-coral-dark); border-color: var(--brand-coral-dark); }
.auth-card .check input[type="checkbox"]:checked + span::after { opacity: 1; }
.auth-card .check input[type="checkbox"]:focus-visible + span::before { outline: none; box-shadow: 0 0 0 3px color-mix(in oklab, var(--brand-peach) 45%, transparent); }
html[data-theme="dark"] .auth-card .check span::before { background:#151821; border-color: rgba(255,255,255,.4); }
html[data-theme="dark"] .auth-card .check input[type="checkbox"]:checked + span::before { background: var(--brand-coral-dark); border-color: var(--brand-coral-dark); }
.auth-card .toggle-line { align-items: center; }
.auth-card .toggle-line a { white-space: nowrap; }

/* Floating labels */
label.float { position: relative; display:block; margin-bottom: 10px; }
label.float > input { width:100%; padding: 13px 12px; padding-right: 42px; border-radius: 12px; border: 1px solid #ddd; background:#fff; color:#111; transition: border-color .2s ease, box-shadow .2s ease; }
label.float > span { position:absolute; left:12px; top:50%; transform: translateY(-50%); background: transparent; color:#777; transition: all .14s ease; padding: 0 6px; pointer-events: none; }
/* Password visibility toggle inside floating label */
label.float .pw-toggle { position: absolute; right: 8px; top: 50%; transform: translateY(-50%); width: 36px; height: 36px; display: grid; place-items: center; border: none; background: transparent; color: #666; cursor: pointer; border-radius: 8px; }
label.float .pw-toggle:focus { outline: none; }
label.float .pw-toggle:focus-visible { box-shadow: 0 0 0 3px color-mix(in oklab, var(--brand-peach) 45%, transparent); }
label.float .pw-toggle .material-icons-round { font-size: 20px; line-height: 1; }
html[data-theme="dark"] label.float .pw-toggle { color: #bbb; }
label.float > input:focus { outline: none; border-color: var(--brand-coral-dark); box-shadow: 0 0 0 3px color-mix(in oklab, var(--brand-peach) 45%, transparent); }
label.float > input:not(:placeholder-shown) + span,
label.float > input:focus + span { top: 0; transform: translateY(-50%) scale(.92); background: #fff; color: var(--brand-coral-dark); }
html[data-theme="dark"] label.float > input { background:#151821; border-color: rgba(255,255,255,.12); color:#eaeaea; }
html[data-theme="dark"] label.float > input:focus { box-shadow: 0 0 0 3px color-mix(in oklab, var(--brand-peach-dark) 35%, transparent); }
html[data-theme="dark"] label.float > input:not(:placeholder-shown) + span,
html[data-theme="dark"] label.float > input:focus + span { background:#1c1f27; }

/* Inline password visibility toggle */
.pw-toggle { position: absolute; right: 8px; top: 50%; transform: translateY(-50%); border: 1px solid #E0E0E0; background: #fff; color: var(--brand-coral-dark); border-radius: 10px; width: 30px; height: 30px; display: grid; place-items: center; cursor: pointer; padding: 0; }
.pw-toggle .material-icons-round { font-size: 18px; line-height: 1; }
.pw-toggle:hover { background: rgba(230,109,87,.06); }
.pw-toggle:focus { outline: none; box-shadow: 0 0 0 3px color-mix(in oklab, var(--brand-peach) 45%, transparent); }
html[data-theme="dark"] .pw-toggle { background:#151821; border-color: rgba(255,255,255,.12); color:#eaeaea; }

/* Alt auth and benefits */
.auth-side .benefits { display:flex; flex-direction:column; gap:10px; margin: 8px 0; padding-left: 0; list-style: none; }
.auth-side .benefits li { display:flex; align-items:center; gap:8px; }
.auth-side .benefits .material-icons-round { font-size: 20px; color: var(--brand-coral-dark); }
.auth-side .alt-auth { display:flex; gap:10px; flex-wrap: wrap; margin-top: 10px; }
.auth-side h3 { margin-top: 0; margin-bottom: 10px; }

.auth-trust { text-align:center; margin-top: 16px; display:flex; align-items:center; gap:8px; justify-content:center; }

/* Toggle switch */
.switch { position: relative; display: inline-block; width: 46px; height: 26px; }
.switch input { display:none; }
.slider { position: absolute; cursor: pointer; inset: 0; background: #e0e0e0; border-radius: 999px; transition: .2s; border: 1px solid #d0d0d0; }
.slider:before { content: ""; position: absolute; height: 20px; width: 20px; left: 3px; top: 50%; transform: translateY(-50%); background: white; border-radius: 50%; transition: .2s; box-shadow: 0 2px 6px rgba(0,0,0,.12); }
.switch input:checked + .slider { background: var(--brand-coral-dark); border-color: var(--brand-coral-dark); }
.switch input:checked + .slider:before { transform: translate(18px, -50%); }
html[data-theme="dark"] .slider { background: #2a2f3b; border-color: rgba(255,255,255,.14); }

.dashboard .gauge {
  font-size: 40px;
  font-weight: 700;
  text-align: center;
  padding: 12px;
}

.dashboard .gauge-circle {
  position: relative;
  width: 220px;
  height: 220px;
  margin: 8px auto 16px;
}

.dashboard .gauge-circle .meter {
  width: 100%;
  height: 100%;
  transform: rotate(-90deg);
}

.dashboard .gauge-circle .meter .bg {
  fill: none;
  stroke: #eee;
  stroke-width: 10;
}

.dashboard .gauge-circle .meter .fg {
  fill: none;
  stroke: rgb(255, 224, 191);
  stroke-linecap: round;
  stroke-width: 10;
  transition: stroke-dashoffset 1.2s cubic-bezier(0.2, 0.8, 0.2, 1);
}

.dashboard .gauge-circle .value {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
  font-weight: 700;
}

.dashboard .safe-to-spend .gauge {
  transition: color 0.3s ease;
}

.snapshot .tile {
  background: #FFFFFF;
  border-radius: 14px;
  padding: 12px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);
}

.snapshot .tile {
  display: flex;
  flex-direction: column;
  gap: 8px;
  border: 1px solid #E0E0E0;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.snapshot .tile:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 28px rgba(0, 0, 0, 0.12);
}

.snapshot .tile {
  padding: 14px;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  flex-direction: row;
}

.snapshot .tile .icon {
  background: rgba(230, 109, 87, 0.08);
  color: rgb(230, 109, 87);
  width: 40px;
  height: 40px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.snapshot .tile .icon .material-icons-round {
  font-size: 22px;
}

.snapshot .tile .metric {
  display: flex;
  flex-direction: column;
}

.snapshot .tile .metric .value {
  font-weight: 700;
}

.snapshot .tile .metric .label {
  color: #777;
  font-size: 12px;
}

.snapshot .tile .badge {
  padding: 6px 10px;
  border-radius: 999px;
  font-size: 12px;
  border: 1px solid #E0E0E0;
  background: #fafafa;
}

.snapshot .tile .badge.good {
  background: rgba(76, 175, 80, 0.08);
  border-color: rgba(76, 175, 80, 0.2);
  color: #2e7d32;
}

.snapshot .tile .badge.neutral {
  background: rgba(255, 193, 7, 0.1);
  border-color: rgba(255, 193, 7, 0.3);
  color: #795548;
}

.snapshot .tile .badge.warn {
  background: #ffebee;
  border-color: #ffcdd2;
  color: #b00020;
}

.recent .tx-list {
  list-style: none;
  padding: 0;
}

.recent li {
  display: grid;
  grid-template-columns: 110px 1fr 120px;
  padding: 8px 0;
  border-bottom: 1px solid #f0f0f0;
}

.amount.neg {
  color: #b00020;
}

.amount.pos {
  color: #2e7d32;
}

.categories .cat .bar {
  height: 8px;
  background: #eee;
  border-radius: 999px;
  overflow: hidden;
}

.categories .cat .fill {
  height: 8px;
  background: linear-gradient(90deg, rgb(255, 224, 191), rgb(230, 109, 87));
  transition: width 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
}

.goals .goal .bar {
  height: 10px;
  background: #eee;
  border-radius: 999px;
  overflow: hidden;
}

.goals .goal .fill {
  height: 10px;
  background: linear-gradient(90deg, rgb(230, 109, 87), rgb(255, 224, 191));
  transition: width 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
  box-shadow: inset 0 0 8px rgba(0, 0, 0, 0.08);
}

.goals .goal .stats {
  margin-top: 6px;
  color: #777;
}

.goals .create {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.buddy .chat-log {
  max-height: 320px;
  overflow: auto;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.buddy .bubble {
  padding: 10px 12px;
  border-radius: 16px;
  max-width: 80%;
  animation: slideIn 0.2s ease;
}

.buddy .bubble.ai {
  background: rgba(255, 224, 191, 0.16);
  border: 1px solid rgba(255, 224, 191, 0.35);
}

.buddy .bubble.me {
  background: #fff;
  border: 1px solid #E0E0E0;
}

.buddy .chat-input {
  display: flex;
  gap: 8px;
  margin-top: 8px;
  position: sticky;
  bottom: 76px;
  background: #F8F8F8;
  padding: 6px 0;
}

.buddy .chat-input input {
  flex: 1;
  padding: 12px;
  border-radius: 10px;
  border: 1px solid #E0E0E0;
  transition: box-shadow 0.2s ease, border-color 0.2s ease;
}

.buddy .chat-input input:focus {
  border-color: rgb(230, 109, 87);
  box-shadow: 0 0 0 4px rgba(230, 109, 87, 0.12);
}

@keyframes slideIn {
  from {
    transform: translateY(6px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}
/* unify bubbles using theme */
.buddy .bubble.ai {
  align-self: flex-start;
}

.buddy .bubble.me {
  background: #fff;
  align-self: flex-end;
}

.buddy .chat-input {
  display: flex;
  gap: 8px;
  margin-top: 8px;
}

.buddy .chat-input input {
  flex: 1;
  padding: 10px;
  border-radius: 8px;
  border: 1px solid #E0E0E0;
}

.onboarding .goal-row {
  display: flex;
  gap: 8px;
  margin-bottom: 8px;
}

.onboarding input {
  padding: 12px;
  border-radius: 10px;
  border: 1px solid #E0E0E0;
  transition: box-shadow 0.2s ease, border-color 0.2s ease;
}

.onboarding .goal-row {
  animation: slideIn 0.2s ease;
}

.onboarding input:focus {
  border-color: rgb(230, 109, 87);
  box-shadow: 0 0 0 4px rgba(230, 109, 87, 0.12);
}

.profile section.card label {
  display: block;
  margin: 6px 0;
}

/* Spinner */
.spinner {
  width: 18px;
  height: 18px;
  border-radius: 50%;
  border: 3px solid rgba(0, 0, 0, 0.1);
  border-top-color: rgb(230, 109, 87);
  animation: spin 0.6s linear infinite;
  display: inline-block;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}
@media (min-width: 960px) {
  .pg-bottom-nav {
    position: sticky;
    bottom: auto;
  }
}
/* Welcome-specific theming and overrides */
.welcome a { color: var(--brand-coral-dark); }
.welcome .btn-primary { background: var(--brand-coral-dark); color: #fff; }
.welcome .btn-primary:hover { filter: brightness(1.05); }
.welcome .btn-ghost { color: var(--brand-coral-dark); border-color: var(--brand-coral-dark); }
.welcome .btn-ghost:hover { background: color-mix(in oklab, var(--brand-peach) 24%, transparent); }

/* Neutralize legacy coral hero background block if present later */
.welcome .hero { background: transparent; margin-top: 0; padding-top: 40px; }
.welcome .hero:before { display: none; }
/* --- Enhancements & utilities (theming-aware) --- */
/* Skip link */
.skip-link {
  position: absolute;
  left: -9999px;
  top: auto;
  width: 1px;
  height: 1px;
  overflow: hidden;
}

.skip-link:focus {
  left: 8px;
  top: 8px;
  width: auto;
  height: auto;
  background: rgb(230, 109, 87);
  color: #fff;
  padding: 8px 12px;
  border-radius: 10px;
  z-index: 1000;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
}

/* Toasts */
.toast-container {
  position: fixed;
  right: 12px;
  top: 12px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  z-index: 2000;
  pointer-events: none;
}

.toast {
  pointer-events: auto;
  display: flex;
  align-items: flex-start;
  gap: 8px;
  min-width: 240px;
  max-width: 360px;
  padding: 10px 12px;
  border-radius: 12px;
  border: 1px solid #E0E0E0;
  background: #FFFFFF;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
  animation: toast-in 0.2s ease;
}

.toast .icon {
  display: grid;
  place-items: center;
  width: 28px;
  height: 28px;
  border-radius: 8px;
  background: rgba(230, 109, 87, 0.1);
  color: rgb(230, 109, 87);
}

.toast .content {
  flex: 1;
}

.toast .close {
  border: none;
  background: transparent;
  cursor: pointer;
  color: #666666;
}

.toast.success .icon {
  background: rgba(230, 109, 87, 0.12);
  color: rgb(230, 109, 87);
}

.toast.error {
  border-color: #ffcdd2;
  background: #ffebee;
}

.toast.error .icon {
  background: #ffcdd2;
  color: #b00020;
}

.toast.info .icon {
  background: rgba(0, 0, 0, 0.06);
  color: #666666;
}

@keyframes toast-in {
  from {
    opacity: 0;
    transform: translateY(-6px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
/* Carousel */
.carousel {
  position: relative;
}

.carousel .track {
  display: flex;
  gap: 12px;
  overflow-x: auto;
  padding: 2px;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
}

.carousel .item {
  scroll-snap-align: start;
  min-width: 260px;
}

.carousel .nav {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: space-between;
  pointer-events: none;
}

.carousel .nav button {
  pointer-events: auto;
  border: none;
  background: rgba(255, 255, 255, 0.85);
  backdrop-filter: saturate(1.4) blur(8px);
  width: 36px;
  height: 36px;
  border-radius: 50%;
  display: grid;
  place-items: center;
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
  cursor: pointer;
}

/* Reveal */
.reveal {
  opacity: 0;
  transform: translateY(10px);
  transition: opacity 0.6s cubic-bezier(0.2, 0.8, 0.2, 1), transform 0.6s cubic-bezier(0.2, 0.8, 0.2, 1);
}

.reveal-visible {
  opacity: 1;
  transform: translateY(0);
}

/* Page enter */
.page-enter {
  animation: page-in 0.35s cubic-bezier(0.2, 0.8, 0.2, 1);
}

@keyframes page-in {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
/* Ripple */
.btn {
  position: relative;
  overflow: hidden;
}

.btn .ripple {
  position: absolute;
  border-radius: 50%;
  transform: scale(0);
  animation: ripple 0.6s ease-out;
  pointer-events: none;
  background: rgba(255, 255, 255, 0.6);
}

@keyframes ripple {
  to {
    transform: scale(4);
    opacity: 0;
  }
}
/* Bottom nav indicator */
.pg-bottom-nav {
  --nav-x:0px;
  --nav-w:0px;
}

.pg-bottom-nav::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: var(--nav-x);
  width: var(--nav-w);
  height: 3px;
  background: rgb(230, 109, 87);
  border-radius: 999px;
  transition: left 0.25s ease, width 0.25s ease;
}

/* Skeleton */
.skeleton {
  position: relative;
  overflow: hidden;
  background: #eee;
}

.skeleton::after {
  content: "";
  position: absolute;
  inset: 0;
  transform: translateX(-100%);
  background: linear-gradient(90deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0));
  animation: shimmer 1.1s infinite;
}

@keyframes shimmer {
  100% {
    transform: translateX(100%);
  }
}
/* Dark mode (data attribute) */
html[data-theme=dark] body {
  color: #e6e6e6;
  background: #0f1115;
}

html[data-theme=dark] .pg-header, html[data-theme=dark] .pg-bottom-nav, html[data-theme=dark] .card {
  background: rgba(23, 25, 31, 0.75);
  border-color: rgba(255, 255, 255, 0.08);
  backdrop-filter: saturate(1.5) blur(10px);
}

html[data-theme=dark] .btn-ghost {
  color: #f8e5df;
  border-color: rgba(255, 255, 255, 0.12);
}

/* ===== Shared UI components (non-home pages) ===== */
/* Section header with actions */
.section-header { display:flex; align-items:center; justify-content: space-between; gap: 12px; margin: 8px 0; }
.section-title { margin: 0; font-size: clamp(18px, 3.5vw, 22px); letter-spacing:.2px; }
.section-actions { display:flex; gap: 8px; flex-wrap: wrap; }

/* Toolbar (filters/search) */
.toolbar { display:flex; align-items:center; gap:8px; flex-wrap: wrap; padding: 10px; border:1px solid #E0E0E0; border-radius: 12px; background:#fff; }
.toolbar input[type="search"], .toolbar select { padding:10px 12px; border-radius:10px; border:1px solid #ddd; background:#fff; }
html[data-theme="dark"] .toolbar { background:#1c1f27; border-color: rgba(255,255,255,.1); }
html[data-theme="dark"] .toolbar input[type="search"], html[data-theme="dark"] .toolbar select { background:#151821; border-color: rgba(255,255,255,.12); color:#eaeaea; }

/* Badges */
.badge { display:inline-flex; align-items:center; gap:6px; padding: 4px 8px; border-radius: 999px; font-size: 12px; border:1px solid #E0E0E0; background:#fafafa; }
.badge.success { background: rgba(76,175,80,.10); border-color: rgba(76,175,80,.25); color:#2e7d32; }
.badge.warn { background: #ffebee; border-color:#ffcdd2; color:#b00020; }
.badge.info { background: rgba(230,109,87,.08); border-color: rgba(230,109,87,.25); color: rgb(230,109,87); }
.badge.neutral { background: rgba(255,193,7,.10); border-color: rgba(255,193,7,.25); color:#795548; }

/* List group */
.list { list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:8px; }
.list-item { display:flex; align-items:center; justify-content: space-between; gap: 10px; padding: 10px; border:1px solid #E0E0E0; border-radius: 12px; background:#fff; }
.list-item .meta { color:#777; font-size: 12px; }
html[data-theme="dark"] .list-item { background:#1c1f27; border-color: rgba(255,255,255,.1); }

/* Table */
.table { width:100%; border-collapse: separate; border-spacing: 0; overflow:hidden; border:1px solid #E0E0E0; border-radius: 12px; background:#fff; }
.table th, .table td { padding: 10px 12px; text-align: left; border-bottom: 1px solid #eee; }
.table th { background:#fafafa; color:#555; font-weight:600; }
.table tr:last-child td { border-bottom: 0; }
html[data-theme="dark"] .table { background:#1c1f27; border-color: rgba(255,255,255,.1); }
html[data-theme="dark"] .table th { background:#11151d; color:#cfcfcf; border-color: rgba(255,255,255,.06); }
html[data-theme="dark"] .table td { border-color: rgba(255,255,255,.06); }

/* Empty state */
.empty { text-align:center; padding: 24px; color:#777; border:1px dashed #E0E0E0; border-radius: 14px; background: #fff; }
.empty .icon { display:inline-grid; place-items:center; width:42px; height:42px; border-radius: 10px; background: rgba(230,109,87,.10); color: rgb(230,109,87); margin-bottom: 8px; }
html[data-theme="dark"] .empty { background:#1c1f27; border-color: rgba(255,255,255,.12); color:#cfcfcf; }

/* Chips */
.chip { display:inline-flex; align-items:center; gap:6px; padding:6px 8px; border-radius:999px; border:1px solid #E0E0E0; background:#fff; font-size:12px; }
html[data-theme="dark"] .chip { background:#1c1f27; border-color: rgba(255,255,255,.12); color:#eaeaea; }

/* Two-column layout helper */
.two-col { display:grid; grid-template-columns: 1fr; gap: 12px; }
@media (min-width: 880px){ .two-col { grid-template-columns: 1fr 1fr; } }

/* Progress bar (generic) */
.progress { display:flex; flex-direction:column; gap:6px; }
.progress .bar { height: 8px; background:#eee; border-radius:999px; overflow:hidden; }
.progress .fill { height:8px; background: linear-gradient(90deg, var(--brand-peach), var(--brand-coral)); transition: width .8s cubic-bezier(.2,.8,.2,1); box-shadow: inset 0 0 8px rgba(0,0,0,.08); }

/* Profile header */
.profile .header { display:flex; align-items:center; gap:12px; }
.profile .avatar { width:56px; height:56px; border-radius:14px; display:grid; place-items:center; background: rgba(230,109,87,.12); color: rgb(230,109,87); font-weight:800; border:1px solid #E0E0E0; }
html[data-theme="dark"] .profile .avatar { border-color: rgba(255,255,255,.12); }

/* Chat improvements */
.buddy .chat .chat-header { display:flex; align-items:center; justify-content: space-between; margin-bottom: 8px; }
.buddy .chat .title { display:flex; align-items:center; gap:8px; font-weight:700; }
.buddy .chat .ai-avatar { width:28px; height:28px; border-radius:8px; display:grid; place-items:center; background: rgba(255,224,191,.25); color: var(--brand-coral-dark); border:1px solid rgba(255,224,191,.45); }
.buddy .typing { opacity:.7; font-style: italic; }
